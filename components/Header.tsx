import React from 'react';
import { ChevronLeftIcon, MenuIcon } from './icons';

interface HeaderProps {
    title: string;
    onBack?: () => void;
    showBackButton?: boolean;
    showMoreOptionsButton?: boolean;
    onMoreOptions?: () => void;
}

const LinarcLogo = () => (
    <svg width="126" height="32" viewBox="0 0 126 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fillRule="evenodd" clipRule="evenodd" d="M15.4469 7.51108V7.51388C15.4201 7.6889 15.3948 7.86252 15.3695 8.03755L14.9878 10.5985L14.8935 11.2762C14.878 11.3966 14.8696 11.5226 14.8625 11.6473C14.8541 11.7705 14.847 11.8909 14.833 12.0015C14.8006 12.5084 14.809 13.0152 14.8597 13.5165C14.9076 14.0626 15.0315 14.5975 15.2272 15.1057C15.4385 15.6854 15.7778 16.2077 16.2214 16.6375C16.6847 17.073 17.2564 17.3852 17.8886 17.5463C18.4265 17.6765 18.9856 17.7241 19.546 17.6877C19.9346 17.6639 20.2994 17.6317 20.6514 17.5995C21.1935 17.5519 21.7075 17.5057 22.244 17.4945C23.0072 17.4833 23.7662 17.5295 24.5153 17.6345C24.5435 17.6401 24.5731 17.6345 24.5984 17.6219C24.6238 17.6093 24.6449 17.5869 24.6576 17.5617C24.6702 17.5365 24.673 17.5071 24.6674 17.4805C24.6604 17.4539 24.6449 17.4301 24.6223 17.4133C23.9929 16.9204 23.279 16.5367 22.5101 16.2749C22.0567 16.1167 21.592 15.9893 21.1175 15.894L19.7783 15.642C19.4263 15.5776 19.0869 15.4684 18.7701 15.3158C18.5462 15.2023 18.3547 15.0371 18.2153 14.8341C17.9111 14.3216 17.7492 13.7363 17.7422 13.1329C17.7211 12.7688 17.7182 12.3838 17.7211 11.9917L17.7971 10.7357C17.8478 9.8172 17.8309 8.90007 17.7436 7.99134C17.6661 7.06861 17.5 6.15989 17.2465 5.27497C17.0282 4.48666 16.6987 3.73615 16.2678 3.04446C16.2524 3.02625 16.2312 3.01225 16.2073 3.00525C16.1834 2.99825 16.158 2.99825 16.1327 3.00525C16.1087 3.01225 16.0862 3.02625 16.0679 3.04446C16.051 3.06266 16.0383 3.08646 16.0341 3.11027C15.8693 4.64628 15.6567 6.07868 15.4455 7.51528L15.4469 7.51108ZM29.6931 26.5243C28.444 25.6184 27.3091 24.7237 26.1699 23.8261C26.0305 23.7169 25.8911 23.6063 25.7517 23.4971L23.7225 21.8953L23.1832 21.4766C23.0861 21.4038 22.9805 21.3338 22.8777 21.2652C22.7749 21.198 22.6749 21.1308 22.5862 21.0636C22.1637 20.7835 21.7202 20.5399 21.2597 20.3327C20.7612 20.1016 20.2374 19.942 19.6995 19.858C19.0926 19.7516 18.4702 19.7824 17.8759 19.9504C17.2676 20.131 16.7114 20.4685 16.2566 20.9319C15.875 21.3296 15.5553 21.7861 15.3075 22.2873C15.1343 22.6332 14.9808 22.9622 14.8315 23.2815C14.6034 23.7715 14.3852 24.2364 14.1275 24.7027C13.7571 25.3636 13.3375 25.9936 12.8728 26.5859C12.8545 26.6069 12.8432 26.6349 12.8418 26.6643C12.8404 26.6937 12.8489 26.7217 12.8644 26.7455C12.8799 26.7694 12.9038 26.7862 12.9306 26.7946C12.9573 26.803 12.9855 26.8002 13.0108 26.789C13.7515 26.4921 14.4415 26.0707 15.0526 25.54C15.4159 25.2291 15.7581 24.8931 16.0777 24.5332L16.9649 23.5083C17.1958 23.2381 17.4605 23.0014 17.7506 22.804C17.9604 22.6668 18.1984 22.5856 18.4448 22.566C19.0405 22.5604 19.6291 22.7116 20.1557 23.0056C20.4824 23.168 20.8161 23.3571 21.1555 23.5559L22.206 24.2462C22.9762 24.7475 23.7803 25.1885 24.6111 25.5666C25.4489 25.96 26.3206 26.2695 27.2133 26.4907C28.0061 26.6951 28.82 26.7848 29.6353 26.7595C29.6593 26.7553 29.6818 26.7441 29.7001 26.7273C29.7184 26.7105 29.7311 26.6881 29.7367 26.6629C29.7423 26.6377 29.7423 26.6125 29.7353 26.5873C29.7283 26.5635 29.7142 26.5411 29.6945 26.5257L29.6931 26.5243ZM6.31229 24.9561C4.95484 25.491 3.60162 26.0244 2.18221 26.6517C2.15828 26.6601 2.13293 26.6615 2.10758 26.6559C2.08224 26.6503 2.05971 26.6377 2.0414 26.6195C2.02309 26.6013 2.01042 26.5789 2.00338 26.5551C1.99775 26.5313 1.99916 26.5061 2.0076 26.4837C2.39484 25.764 2.88206 25.1031 3.4594 24.5192C4.10151 23.8569 4.8098 23.2577 5.57442 22.7298C6.32215 22.1991 7.11211 21.7244 7.93729 21.31L9.06943 20.7471C9.41302 20.5525 9.74675 20.3579 10.0523 20.1576C10.5747 19.8496 11.0028 19.4155 11.2971 18.8961C11.4041 18.6734 11.452 18.4256 11.4379 18.175C11.4126 17.8235 11.3379 17.4763 11.2168 17.1388L10.7648 15.8548C10.6099 15.397 10.4874 14.9307 10.3987 14.4602C10.241 13.6635 10.2185 12.8542 10.3311 12.0631C10.3339 12.0351 10.3466 12.0099 10.3663 11.9903C10.386 11.9707 10.4128 11.9595 10.4424 11.9581C10.4705 11.9567 10.5001 11.9637 10.524 11.9791C10.548 11.9945 10.5677 12.0183 10.5775 12.0449C10.862 12.745 11.2028 13.4255 11.5942 14.0794C11.873 14.5387 12.1702 14.9601 12.4842 15.4054C12.6884 15.6938 12.8982 15.9935 13.115 16.3169C13.429 16.7832 13.6684 17.2914 13.8233 17.8221C14.0007 18.448 14.0162 19.1005 13.8684 19.718C13.7163 20.3173 13.4319 20.8717 13.0333 21.345C12.6898 21.7679 12.2856 22.1431 11.8336 22.4582C11.4224 22.7522 10.9859 23.014 10.5283 23.2395C10.4241 23.2829 10.3156 23.3361 10.2044 23.3907C10.0917 23.4467 9.97768 23.5027 9.86503 23.5489L9.22855 23.8065L6.80796 24.7587C6.6418 24.8245 6.47564 24.8889 6.31088 24.9547L6.31229 24.9561Z" fill="#F97316"/>
        <path d="M45.2446 20.3824V23.1984H36V8H39.5592V20.3824H45.2462H45.2446Z" fill="white"/>
        <path d="M51.2296 23.1984H47.4224V8H51.2296V23.1968V23.1984Z" fill="white"/>
        <path d="M66.7286 8V23.1984H64.8857C64.6137 23.1984 64.3824 23.1564 64.1948 23.0726C64.0135 22.9825 63.8322 22.8287 63.6509 22.6128L56.4544 13.5481C56.4825 13.82 56.4997 14.084 56.506 14.3403C56.52 14.5904 56.5263 14.8265 56.5263 15.0501V23.1968H53.4048V8H55.2696C55.4227 8 55.5525 8.00621 55.6572 8.02019C55.7619 8.03417 55.8557 8.06213 55.9401 8.10407C56.0245 8.13824 56.1042 8.19105 56.1808 8.26094C56.2574 8.33084 56.345 8.42403 56.4434 8.54208L63.7024 17.6689C63.6681 17.3769 63.643 17.0957 63.629 16.8239C63.6149 16.5459 63.6087 16.2849 63.6087 16.0411V8H66.7302H66.7286Z" fill="white"/>
        <path d="M78.0417 17.3862L76.6463 13.2235C76.543 12.9595 76.4335 12.6504 76.3164 12.2947C76.1992 11.9328 76.082 11.5429 75.9648 11.1267C75.8615 11.5507 75.7505 11.9437 75.6333 12.3056C75.5161 12.6675 75.4067 12.9797 75.3034 13.2437L73.9188 17.3846H78.0417V17.3862ZM83.5893 23.1968H80.8818C80.5781 23.1968 80.3345 23.1269 80.1479 22.9887C79.9613 22.8427 79.821 22.6579 79.7239 22.4357L78.8358 19.7859H73.1124L72.2243 22.4357C72.1487 22.6299 72.0115 22.8085 71.811 22.9685C71.6183 23.1223 71.3778 23.1984 71.0879 23.1984H68.3604L74.187 8H77.7611L83.5878 23.1984L83.5893 23.1968Z" fill="white"/>
        <path d="M90.1984 15.1457C90.6808 15.1457 91.0911 15.0867 91.4262 14.9686C91.7692 14.8428 92.0495 14.6736 92.2656 14.4577C92.4833 14.2418 92.6399 13.9918 92.7386 13.706C92.8357 13.414 92.8858 13.1003 92.8858 12.7679C92.8858 12.1001 92.665 11.5783 92.2249 11.204C91.7911 10.8281 91.1161 10.6402 90.2 10.6402H88.7734V15.1457H90.2H90.1984ZM97.7327 23.1984H94.5207C93.9256 23.1984 93.4997 22.9763 93.2413 22.5306L90.7011 18.1183C90.5821 17.9304 90.449 17.7952 90.3018 17.7114C90.1546 17.6213 89.9448 17.5763 89.6723 17.5763H88.7702V23.1984H85.2231V8H90.1969C91.3025 8 92.2437 8.11493 93.0205 8.34478C93.8035 8.56687 94.4409 8.88059 94.931 9.28284C95.4275 9.68664 95.7877 10.1619 96.0116 10.7117C96.2355 11.2615 96.3483 11.8594 96.3483 12.5055C96.3483 12.9993 96.2825 13.4653 96.1494 13.9032C96.0163 14.3412 95.8205 14.7481 95.5621 15.1239C95.3037 15.492 94.9811 15.8228 94.5959 16.1148C94.2185 16.4068 93.7815 16.6475 93.2835 16.8339C93.5138 16.9519 93.7314 17.101 93.935 17.2827C94.137 17.4567 94.3203 17.6648 94.48 17.9086L97.7327 23.1968V23.1984Z" fill="white"/>
        <path d="M110.286 19.1845C110.369 19.1845 110.45 19.2012 110.533 19.2362C110.616 19.2635 110.694 19.3137 110.769 19.3897L112.146 20.8289C111.544 21.6117 110.786 22.2029 109.875 22.6056C108.97 23.0008 107.898 23.1984 106.659 23.1984C105.523 23.1984 104.502 23.0084 103.597 22.6269C102.7 22.2394 101.936 21.7089 101.306 21.0341C100.682 20.3532 100.204 19.5508 99.8677 18.6252C99.5319 17.6935 99.3647 16.6828 99.3647 15.5931C99.3647 14.5034 99.5457 13.4669 99.9091 12.5413C100.273 11.6096 100.783 10.8056 101.44 10.1323C102.096 9.45904 102.886 8.9347 103.803 8.56082C104.721 8.18694 105.732 8 106.834 8C107.396 8 107.923 8.05167 108.417 8.1535C108.917 8.24925 109.383 8.38452 109.814 8.56234C110.245 8.73256 110.642 8.93926 111.005 9.18547C111.369 9.43017 111.691 9.69614 111.971 9.98187L110.8 11.5443C110.725 11.64 110.636 11.7282 110.533 11.8102C110.43 11.8847 110.286 11.9227 110.101 11.9227C109.978 11.9227 109.861 11.8953 109.751 11.8406C109.641 11.7859 109.526 11.7221 109.401 11.6461C109.279 11.564 109.141 11.4789 108.99 11.3908C108.846 11.295 108.671 11.2099 108.466 11.1354C108.267 11.0534 108.03 10.985 107.757 10.9318C107.491 10.8771 107.175 10.8497 106.813 10.8497C106.238 10.8497 105.71 10.9546 105.23 11.1658C104.758 11.3771 104.347 11.6871 103.997 12.0944C103.655 12.4957 103.387 12.9927 103.195 13.5854C103.01 14.1705 102.918 14.8408 102.918 15.5961C102.918 16.3515 103.021 17.0354 103.226 17.6267C103.438 18.2179 103.723 18.7194 104.079 19.1267C104.442 19.528 104.862 19.835 105.342 20.0447C105.822 20.2545 106.336 20.3608 106.883 20.3608C107.198 20.3608 107.486 20.3472 107.747 20.3198C108.007 20.2864 108.25 20.2347 108.477 20.1663C108.702 20.0918 108.915 19.9961 109.113 19.8806C109.312 19.7575 109.513 19.6055 109.719 19.4216C109.802 19.3532 109.89 19.2985 109.986 19.259C110.082 19.2118 110.18 19.1875 110.283 19.1875L110.286 19.1845Z" fill="white"/>
    </svg>
);


const Header: React.FC<HeaderProps> = ({ title, onBack, showBackButton = false, showMoreOptionsButton = false, onMoreOptions }) => {
  return (
    <header className="bg-slate-800 text-slate-100 px-4 flex items-center justify-between border-b border-slate-700 z-20 h-[44px] flex-shrink-0">
      <div className="flex-1 flex justify-start">
        {showBackButton ? (
            <button onClick={onBack} className="p-1 -ml-2 text-slate-100 flex items-center" aria-label="Go back">
              <ChevronLeftIcon className="w-6 h-6" />
            </button>
        ) : (
            <LinarcLogo />
        )}
      </div>
      
      <div className="flex-1 flex justify-center">
        {showBackButton && (
          <h1 className="text-[17px] font-semibold truncate text-white">{title}</h1>
        )}
      </div>

      <div className="flex-1 flex justify-end">
        {showMoreOptionsButton && (
          <button onClick={onMoreOptions} className="p-1 -mr-2 text-slate-100" aria-label="More options">
            <MenuIcon className="w-6 h-6" />
          </button>
        )}
      </div>
    </header>
  );
};

export default Header;
